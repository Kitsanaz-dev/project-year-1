#include <stdio.h>

int quantities[7] = {0, 0, 0, 0, 0, 0, 0};

const int prices[7] = {35000, 30000, 35000, 35000, 40000, 10000, 5000};

const char *menu_names[] = {
    "ເຂົ້າໝູຕຸນ (Stewed pork with rice)",     //prices[0] = 35000
    "ເຂົ້າມັນໄກ່ (Steamed chicken rice)",       //prices[1] = 30000
    "ເຂົ້າໜ້າເປັດ (Roasted duck rice)",        //prices[2] = 35000
    "ເຂົ້າໝູແດງ (BBQ red pork with rice)",   //prices[3] = 35000
    "ເຂົ້າໝູກອບ (Crispy pork with rice)",    //prices[4] = 40000
    "ແປັບຊີ້ (Pepsi)",                       //prices[5] = 10000
    "ນໍ້າດື່ມຫົວເສືອ (Tigerhead water)"};       //prices[6] =  5000

int unit;
int total = 0;

// Function prototypes
void processOrder();
void showOrder();
void showTotal();
void menuList();

void main() {

    int choice = 0;
    int control = 1;

    printf("\n=================[ Welcome to our RESTAURANT ]=================\n");

    while(control == 1){

        menuList();      

        printf("Please select a dish from the menu by entering its number: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1: case 2: case 3: case 4: case 5: case 6: case 7:
                processOrder(&total, &quantities[choice - 1], prices[choice - 1], menu_names[choice - 1]);
                break;
            case 8:
                showOrder(quantities, prices, menu_names);
                break;
            case 9:
                showTotal(quantities, prices, total);
                control = 0;
                break;
            case 0:
                printf("\nExiting program...\n\n");
                control = 0;
                break;
            default:
                printf("\nInvalid choice, Please try again\n");
                break;
        }
    }
}

void processOrder(int *total, int *quantities, int prices, const char *menu_name) {
    printf("Enter number of %s: ", menu_name);
    scanf("%d", &unit);
    if (unit > 20){
        printf("\nThat's too much, Please try again\n");
        return;
    }
    *total += prices * unit;
    *quantities += unit;
    printf("\nYou chose %d %s\n", unit, menu_name);
}

void showOrder(int quantities[], int prices[], const char *menu_names[]) {
    printf("\n============================================================\n");
    for (int i = 0; i < 7; i++) {
        if (quantities[i] > 0) {
            printf("Number of %s: %d (Price: %d kip per each)\n", menu_names[i], quantities[i], prices[i]);
        }
    }
    printf("============================================================\n");
}

void showTotal(int quantities[], int prices[], int total) {
    showOrder(quantities, prices, menu_names);
    printf("Total: %d kip\n", total);
    printf("============================================================\n");
    printf("Thank you for visiting our restaurant!!! Have a great day!!!\n");
    printf("============================================================\n\n");
}

void menuList() {
    printf("\nHere's the menu :\n\n");
    printf("[1] ເຂົ້າໝູຕຸ໋ນ (Stewed pork with rice)    \t\t Price : 35000 kip\n");
    printf("[2] ເຂົ້າມັນໄກ່ (Steamed chicken rice)     \t\t Price : 30000 kip\n");
    printf("[3] ເຂົ້າໜ້າເປັດ (Roasted duck rice)       \t\t Price : 35000 kip\n");
    printf("[4] ເຂົ້າໝູແດງ (BBQ red pork with rice)  \t\t Price : 35000 kip\n");
    printf("[5] ເຂົ້າໝູກອບ (Crispy pork with rice)   \t\t Price : 40000 kip\n");
    printf("[6] ແປັບຊີ້ (Pepsi)                      \t\t Price : 10000 kip\n");
    printf("[7] ນໍ້າດື່ມຫົວເສືອ (Tigerhead water)       \t\t Price :  5000 kip\n");
    printf("[8] Check your current order\n");
    printf("[9] Total\n");
    printf("[0] Exit\n\n");
}
